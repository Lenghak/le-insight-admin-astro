import{j as T}from"./jsx-runtime.B5KViHfa.js";import{r as o}from"./index.BdjtwOc4.js";import{_ as S,b as ce,c as O,a as Ae}from"./utils.BNAsO71c.js";import{r as De}from"./index.B6I0esK7.js";import{c as Ie,b as Ne,i as Oe,d as Fe,f as Me,$ as Y,e as h,j as Le,g as ke,a as Ve}from"./index.D5fU0GYY.js";import{$ as D,a as Ke}from"./index.BSwc26KH.js";import{c as je}from"./createLucideIcon.BGrtoPfL.js";/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ie=o.forwardRef((e,t)=>o.createElement(D.span,S({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),de="ToastProvider",[oe,Xe,He]=Ie("Toast"),[ue,_t]=Ne("Toast",[He]),[Ue,B]=ue(de),le=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:d=50,children:p}=e,[f,b]=o.useState(null),[a,y]=o.useState(0),E=o.useRef(!1),F=o.useRef(!1);return o.createElement(oe.Provider,{scope:t},o.createElement(Ue,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:d,toastCount:a,viewport:f,onViewportChange:b,onToastAdd:o.useCallback(()=>y(_=>_+1),[]),onToastRemove:o.useCallback(()=>y(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:E,isClosePausedRef:F},p))};le.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const t=`Invalid prop \`label\` supplied to \`${de}\`. Expected non-empty \`string\`.`;return new Error(t)}return null}};const Ye="ToastViewport",Be=["F8"],ee="toast.viewportPause",te="toast.viewportResume",qe=o.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Be,label:i="Notifications ({hotkey})",...d}=e,p=B(Ye,r),f=Xe(r),b=o.useRef(null),a=o.useRef(null),y=o.useRef(null),E=o.useRef(null),F=ce(t,E,p.onViewportChange),_=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=p.toastCount>0;o.useEffect(()=>{const c=x=>{var l;n.every(v=>x[v]||x.code===v)&&((l=E.current)===null||l===void 0||l.focus())};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[n]),o.useEffect(()=>{const c=b.current,x=E.current;if(P&&c&&x){const l=()=>{if(!p.isClosePausedRef.current){const w=new CustomEvent(ee);x.dispatchEvent(w),p.isClosePausedRef.current=!0}},m=()=>{if(p.isClosePausedRef.current){const w=new CustomEvent(te);x.dispatchEvent(w),p.isClosePausedRef.current=!1}},v=w=>{!c.contains(w.relatedTarget)&&m()},$=()=>{c.contains(document.activeElement)||m()};return c.addEventListener("focusin",l),c.addEventListener("focusout",v),c.addEventListener("pointermove",l),c.addEventListener("pointerleave",$),window.addEventListener("blur",l),window.addEventListener("focus",m),()=>{c.removeEventListener("focusin",l),c.removeEventListener("focusout",v),c.removeEventListener("pointermove",l),c.removeEventListener("pointerleave",$),window.removeEventListener("blur",l),window.removeEventListener("focus",m)}}},[P,p.isClosePausedRef]);const u=o.useCallback(({tabbingDirection:c})=>{const l=f().map(m=>{const v=m.ref.current,$=[v,...ut(v)];return c==="forwards"?$:$.reverse()});return(c==="forwards"?l.reverse():l).flat()},[f]);return o.useEffect(()=>{const c=E.current;if(c){const x=l=>{const m=l.altKey||l.ctrlKey||l.metaKey;if(l.key==="Tab"&&!m){const M=document.activeElement,I=l.shiftKey;if(l.target===c&&I){var $;($=a.current)===null||$===void 0||$.focus();return}const A=u({tabbingDirection:I?"backwards":"forwards"}),K=A.findIndex(s=>s===M);if(Q(A.slice(K+1)))l.preventDefault();else{var w,R;I?(w=a.current)===null||w===void 0||w.focus():(R=y.current)===null||R===void 0||R.focus()}}};return c.addEventListener("keydown",x),()=>c.removeEventListener("keydown",x)}},[f,u]),o.createElement(Oe,{ref:b,role:"region","aria-label":i.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:P?void 0:"none"}},P&&o.createElement(ne,{ref:a,onFocusFromOutsideViewport:()=>{const c=u({tabbingDirection:"forwards"});Q(c)}}),o.createElement(oe.Slot,{scope:r},o.createElement(D.ol,S({tabIndex:-1},d,{ref:F}))),P&&o.createElement(ne,{ref:y,onFocusFromOutsideViewport:()=>{const c=u({tabbingDirection:"backwards"});Q(c)}}))}),ze="ToastFocusProxy",ne=o.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,d=B(ze,r);return o.createElement(ie,S({"aria-hidden":!0,tabIndex:0},i,{ref:t,style:{position:"fixed"},onFocus:p=>{var f;const b=p.relatedTarget;!((f=d.viewport)!==null&&f!==void 0&&f.contains(b))&&n()}}))}),q="Toast",Ge="toast.swipeStart",Qe="toast.swipeMove",Je="toast.swipeCancel",Ze="toast.swipeEnd",et=o.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:d,...p}=e,[f=!0,b]=Fe({prop:n,defaultProp:i,onChange:d});return o.createElement(Me,{present:r||f},o.createElement(pe,S({open:f},p,{ref:t,onClose:()=>b(!1),onPause:Y(e.onPause),onResume:Y(e.onResume),onSwipeStart:h(e.onSwipeStart,a=>{a.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:h(e.onSwipeMove,a=>{const{x:y,y:E}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","move"),a.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${E}px`)}),onSwipeCancel:h(e.onSwipeCancel,a=>{a.currentTarget.setAttribute("data-swipe","cancel"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:h(e.onSwipeEnd,a=>{const{x:y,y:E}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","end"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${E}px`),b(!1)})})))}),[tt,ot]=ue(q,{onClose(){}}),pe=o.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:d,onClose:p,onEscapeKeyDown:f,onPause:b,onResume:a,onSwipeStart:y,onSwipeMove:E,onSwipeCancel:F,onSwipeEnd:_,...P}=e,u=B(q,r),[c,x]=o.useState(null),l=ce(t,s=>x(s)),m=o.useRef(null),v=o.useRef(null),$=i||u.duration,w=o.useRef(0),R=o.useRef($),M=o.useRef(0),{onToastAdd:I,onToastRemove:z}=u,N=Y(()=>{var s;c?.contains(document.activeElement)&&((s=u.viewport)===null||s===void 0||s.focus()),p()}),A=o.useCallback(s=>{!s||s===1/0||(window.clearTimeout(M.current),w.current=new Date().getTime(),M.current=window.setTimeout(N,s))},[N]);o.useEffect(()=>{const s=u.viewport;if(s){const g=()=>{A(R.current),a?.()},C=()=>{const L=new Date().getTime()-w.current;R.current=R.current-L,window.clearTimeout(M.current),b?.()};return s.addEventListener(ee,C),s.addEventListener(te,g),()=>{s.removeEventListener(ee,C),s.removeEventListener(te,g)}}},[u.viewport,$,b,a,A]),o.useEffect(()=>{d&&!u.isClosePausedRef.current&&A($)},[d,$,u.isClosePausedRef,A]),o.useEffect(()=>(I(),()=>z()),[I,z]);const K=o.useMemo(()=>c?ve(c):null,[c]);return u.viewport?o.createElement(o.Fragment,null,K&&o.createElement(rt,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0},K),o.createElement(tt,{scope:r,onClose:N},De.createPortal(o.createElement(oe.ItemSlot,{scope:r},o.createElement(Le,{asChild:!0,onEscapeKeyDown:h(f,()=>{u.isFocusedToastEscapeKeyDownRef.current||N(),u.isFocusedToastEscapeKeyDownRef.current=!1})},o.createElement(D.li,S({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":u.swipeDirection},P,{ref:l,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:h(e.onKeyDown,s=>{s.key==="Escape"&&(f?.(s.nativeEvent),s.nativeEvent.defaultPrevented||(u.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:h(e.onPointerDown,s=>{s.button===0&&(m.current={x:s.clientX,y:s.clientY})}),onPointerMove:h(e.onPointerMove,s=>{if(!m.current)return;const g=s.clientX-m.current.x,C=s.clientY-m.current.y,L=!!v.current,k=["left","right"].includes(u.swipeDirection),j=["left","up"].includes(u.swipeDirection)?Math.min:Math.max,_e=k?j(0,g):0,Pe=k?0:j(0,C),G=s.pointerType==="touch"?10:2,W={x:_e,y:Pe},re={originalEvent:s,delta:W};L?(v.current=W,X(Qe,E,re,{discrete:!1})):se(W,u.swipeDirection,G)?(v.current=W,X(Ge,y,re,{discrete:!1}),s.target.setPointerCapture(s.pointerId)):(Math.abs(g)>G||Math.abs(C)>G)&&(m.current=null)}),onPointerUp:h(e.onPointerUp,s=>{const g=v.current,C=s.target;if(C.hasPointerCapture(s.pointerId)&&C.releasePointerCapture(s.pointerId),v.current=null,m.current=null,g){const L=s.currentTarget,k={originalEvent:s,delta:g};se(g,u.swipeDirection,u.swipeThreshold)?X(Ze,_,k,{discrete:!0}):X(Je,F,k,{discrete:!0}),L.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})))),u.viewport))):null});pe.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const t=`Invalid prop \`type\` supplied to \`${q}\`. Expected \`foreground | background\`.`;return new Error(t)}return null}};const rt=e=>{const{__scopeToast:t,children:r,...n}=e,i=B(q,t),[d,p]=o.useState(!1),[f,b]=o.useState(!1);return it(()=>p(!0)),o.useEffect(()=>{const a=window.setTimeout(()=>b(!0),1e3);return()=>window.clearTimeout(a)},[]),f?null:o.createElement(ke,{asChild:!0},o.createElement(ie,n,d&&o.createElement(o.Fragment,null,i.label," ",r)))},nt=o.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.createElement(D.div,S({},n,{ref:t}))}),st=o.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.createElement(D.div,S({},n,{ref:t}))}),at="ToastAction",fe=o.forwardRef((e,t)=>{const{altText:r,...n}=e;return r?o.createElement(me,{altText:r,asChild:!0},o.createElement(be,S({},n,{ref:t}))):null});fe.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${at}\``)}};const ct="ToastClose",be=o.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=ot(ct,r);return o.createElement(me,{asChild:!0},o.createElement(D.button,S({type:"button"},n,{ref:t,onClick:h(e.onClick,i.onClose)})))}),me=o.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return o.createElement(D.div,S({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0},i,{ref:t}))});function ve(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),dt(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",d=n.dataset.radixToastAnnounceExclude==="";if(!i)if(d){const p=n.dataset.radixToastAnnounceAlt;p&&t.push(p)}else t.push(...ve(n))}}),t}function X(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?Ke(i,d):i.dispatchEvent(d)}const se=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),d=n>i;return t==="left"||t==="right"?d&&n>r:!d&&i>r};function it(e=()=>{}){const t=Y(e);Ve(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function dt(e){return e.nodeType===e.ELEMENT_NODE}function ut(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Q(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}const lt=le,$e=qe,Te=et,we=nt,Ee=st,xe=fe,ye=be,pt=lt,ge=o.forwardRef(({className:e,...t},r)=>T.jsx($e,{ref:r,className:O("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ge.displayName=$e.displayName;const ft=Ae("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),he=o.forwardRef(({className:e,variant:t,...r},n)=>T.jsx(Te,{ref:n,className:O(ft({variant:t}),e),...r}));he.displayName=Te.displayName;const bt=o.forwardRef(({className:e,...t},r)=>T.jsx(xe,{ref:r,className:O("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));bt.displayName=xe.displayName;const Se=o.forwardRef(({className:e,...t},r)=>T.jsx(ye,{ref:r,className:O("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:T.jsx(We,{className:"h-4 w-4"})}));Se.displayName=ye.displayName;const Re=o.forwardRef(({className:e,...t},r)=>T.jsx(we,{ref:r,className:O("text-sm font-semibold",e),...t}));Re.displayName=we.displayName;const Ce=o.forwardRef(({className:e,...t},r)=>T.jsx(Ee,{ref:r,className:O("text-sm opacity-90",e),...t}));Ce.displayName=Ee.displayName;const mt=1,vt=1e6;let J=0;function $t(){return J=(J+1)%Number.MAX_SAFE_INTEGER,J.toString()}const Z=new Map,ae=e=>{if(Z.has(e))return;const t=setTimeout(()=>{Z.delete(e),V({type:"REMOVE_TOAST",toastId:e})},vt);Z.set(e,t)},Tt=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,mt)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?ae(r):e.toasts.forEach(n=>{ae(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},H=[];let U={toasts:[]};function V(e){U=Tt(U,e),H.forEach(t=>{t(U)})}function wt({...e}){const t=$t(),r=i=>V({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>V({type:"DISMISS_TOAST",toastId:t});return V({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function Et(){const[e,t]=o.useState(U);return o.useEffect(()=>(H.push(t),()=>{const r=H.indexOf(t);r>-1&&H.splice(r,1)}),[e]),{...e,toast:wt,dismiss:r=>V({type:"DISMISS_TOAST",toastId:r})}}function Pt(){const{toasts:e}=Et();return T.jsxs(pt,{children:[e.map(function({id:t,title:r,description:n,action:i,...d}){return T.jsxs(he,{...d,children:[T.jsxs("div",{className:"grid gap-1",children:[r&&T.jsx(Re,{children:r}),n&&T.jsx(Ce,{children:n})]}),i,T.jsx(Se,{})]},t)}),T.jsx(ge,{})]})}export{Pt as Toaster};
